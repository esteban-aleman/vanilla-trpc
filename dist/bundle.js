/*! For license information please see bundle.js.LICENSE.txt */
(()=>{"use strict";function t(t){return t}function e(e){const r={subscribe(t){let r=null,n=!1,o=!1,s=!1;function i(){null!==r?o||(o=!0,"function"==typeof r?r():r&&r.unsubscribe()):s=!0}return r=e({next(e){n||t.next?.(e)},error(e){n||(n=!0,t.error?.(e),i())},complete(){n||(n=!0,t.complete?.(),i())}}),s&&i(),{unsubscribe:i}},pipe(...e){return(0===(n=e).length?t:1===n.length?n[0]:function(t){return n.reduce(((t,e)=>e(t)),t)})(r);var n}};return r}class r extends Error{constructor(t){super(t),this.name="ObservableAbortError",Object.setPrototypeOf(this,r.prototype)}}class n extends Error{static from(t,e={}){return t instanceof Error?"TRPCClientError"===t.name?t:new n(t.message,{...e,cause:t,result:null}):new n(t.error.message??"",{...e,cause:void 0,result:t})}constructor(t,e){const r=e?.cause;super(t,{cause:r}),this.meta=e?.meta,this.cause=r,this.shape=e?.result?.error,this.data=e?.result?.error.data,this.name="TRPCClientError",Object.setPrototypeOf(this,n.prototype)}}function o(t){return!!t&&!Array.isArray(t)&&"object"==typeof t}const s=()=>{};function i(t,e){return new Proxy(s,{get(r,n){if("string"==typeof n&&"then"!==n)return i(t,[...e,n])},apply:(r,n,o)=>t({args:o,path:e})})}const u=t=>i(t,[]),c=t=>"function"==typeof t;function a(t,e){return c(t.bind)?t.bind(e):t}function l(t){if(t)return t;if("undefined"!=typeof window&&c(window.fetch))return a(window.fetch,window);if("undefined"!=typeof globalThis&&c(globalThis.fetch))return a(globalThis.fetch,globalThis);throw new Error("No fetch implementation found")}const p={query:"GET",mutation:"POST"};function f(t){return"input"in t?t.runtime.transformer.serialize(t.input):function(t){const e={};for(let r=0;r<t.length;r++){const n=t[r];e[r]=n}return e}(t.inputs.map((e=>t.runtime.transformer.serialize(e))))}function h(t){let e=t.url+"/"+t.path;const r=[];if("inputs"in t&&r.push("batch=1"),"query"===t.type){const e=f(t);void 0!==e&&r.push(`input=${encodeURIComponent(JSON.stringify(e))}`)}return r.length&&(e+="?"+r.join("&")),e}const m=()=>{throw new Error("Something went wrong. Please submit an issue at https://github.com/trpc/trpc/issues/new")};function d(t){let e=null,r=null;const n=()=>{clearTimeout(r),r=null,e=null};function o(){const r=function(e){const r=[[]];let n=0;for(;;){const o=e[n];if(!o)break;const s=r[r.length-1];o.aborted?(o.reject(new Error("Aborted")),n++):t.validate(s.concat(o).map((t=>t.key)))?(s.push(o),n++):0!==s.length?r.push([]):(o.reject(new Error("Input is too big for a single dispatch")),n++)}return r}(e);n();for(const e of r){if(!e.length)continue;const r={items:e,cancel:m};for(const t of e)t.batch=r;const{promise:n,cancel:o}=t.fetch(r.items.map((t=>t.key)));r.cancel=o,n.then((t=>{for(let e=0;e<t.length;e++){const n=t[e],o=r.items[e];o.resolve(n),o.batch=null}})).catch((t=>{for(const e of r.items)e.reject(t),e.batch=null}))}}return{load:function(t){const n={aborted:!1,key:t,batch:null,resolve:m,reject:m},s=new Promise(((t,r)=>{n.reject=r,n.resolve=t,e||(e=[]),e.push(n)}));return r||(r=setTimeout(o)),{promise:s,cancel:()=>{n.aborted=!0,n.batch?.items.every((t=>t.aborted))&&(n.batch.cancel(),n.batch=null)}}}}}class b extends Error{constructor(t){super(t),this.name="TRPCWebSocketClosedError",Object.setPrototypeOf(this,b.prototype)}}class y extends Error{constructor(t){super(t),this.name="TRPCSubscriptionEndedError",Object.setPrototypeOf(this,y.prototype)}}class w{$request({type:t,input:r,path:n,context:o={}}){return(s={links:this.links,op:{id:++this.requestId,type:t,path:n,input:r,context:o}},e((t=>function t(e=0,r=s.op){const n=s.links[e];if(!n)throw new Error("No more links to execute - did you forget to add an ending link?");return n({op:r,next:r=>t(e+1,r)})}().subscribe(t)))).pipe((t=>{let e=0,r=null;const n=[];return{subscribe:o=>(e++,n.push(o),r||(r=t.subscribe({next(t){for(const e of n)e.next?.(t)},error(t){for(const e of n)e.error?.(t)},complete(){for(const t of n)t.complete?.()}})),{unsubscribe(){e--,function(){if(0===e&&r){const t=r;r=null,t.unsubscribe()}}();const t=n.findIndex((t=>t===o));t>-1&&n.splice(t,1)}})}}));var s}requestAsPromise(t){const e=this.$request(t),{promise:o,abort:s}=function(t){let e;return{promise:new Promise(((n,o)=>{let s=!1;function i(){s||(s=!0,o(new r("This operation was aborted.")),u.unsubscribe())}const u=t.subscribe({next(t){s=!0,n(t),i()},error(t){s=!0,o(t),i()},complete(){s=!0,i()}});e=i})),abort:e}}(e);return new Promise(((e,r)=>{t.signal?.addEventListener("abort",s),o.then((t=>{e(t.result.data)})).catch((t=>{r(n.from(t))}))}))}query(t,e,r){return this.requestAsPromise({type:"query",path:t,input:e,context:r?.context,signal:r?.signal})}mutation(t,e,r){return this.requestAsPromise({type:"mutation",path:t,input:e,context:r?.context,signal:r?.signal})}subscription(t,e,r){return this.$request({type:"subscription",path:t,input:e,context:r?.context}).subscribe({next(t){"started"===t.result.type?r.onStarted?.():"stopped"===t.result.type?r.onStopped?.():r.onData?.(t.result.data)},error(t){r.onError?.(t)},complete(){r.onComplete?.()}})}constructor(t){this.requestId=0,this.runtime={transformer:function(){const e=t.transformer;return e?"input"in e?{serialize:e.input.serialize,deserialize:e.output.deserialize}:e:{serialize:t=>t,deserialize:t=>t}}()},this.links=t.links.map((t=>t(this.runtime)))}}const g={query:"query",mutate:"mutation",subscribe:"subscription"};var v=function(t,e,r,n){return new(r||(r=Promise))((function(o,s){function i(t){try{c(n.next(t))}catch(t){s(t)}}function u(t){try{c(n.throw(t))}catch(t){s(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(i,u)}c((n=n.apply(t,e||[])).next())}))},x=function(t,e){var r,n,o,s,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function u(u){return function(c){return function(u){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(i=0)),i;)try{if(r=1,n&&(o=2&u[0]?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,n=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=e.call(t,i)}catch(t){u=[6,t],n=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}},k=function(t){const e=function(t){return e=e=>t.hasOwnProperty(e)?t[e]:u((({path:r,args:n})=>{const o=[e,...r],s=o.pop(),i=g[s],u=o.join(".");return t[i](u,...n)})),new Proxy(s,{get(t,r){if("string"==typeof r&&"then"!==r)return e(r)}});var e}(new w(t));return e}({links:[function(t){const r=function(t){const e=t.headers||(()=>({}));return{url:t.url,fetch:l(t.fetch),AbortController:(r=t.AbortController,r||("undefined"!=typeof window&&window.AbortController?window.AbortController:"undefined"!=typeof globalThis&&globalThis.AbortController?globalThis.AbortController:null)),headers:"function"==typeof e?e:()=>e};var r}(t);return s=>{const i=t.maxURLLength||1/0,u=t=>({validate:e=>{if(i===1/0)return!0;const n=e.map((t=>t.path)).join(","),o=e.map((t=>t.input));return h({...r,runtime:s,type:t,path:n,inputs:o}).length<=i},fetch:e=>{const n=e.map((t=>t.path)).join(","),o=e.map((t=>t.input)),{promise:i,cancel:u}=function(t){const{type:e}=t,r=t.AbortController?new t.AbortController:null;return{promise:new Promise(((n,o)=>{const s=h(t),i=function(t){if("query"===t.type)return;const e=f(t);return void 0!==e?JSON.stringify(e):void 0}(t),u={};Promise.resolve(t.headers()).then((n=>{if("subscription"===e)throw new Error("Subscriptions should use wsLink");return t.fetch(s,{method:p[e],signal:r?.signal,body:i,headers:{"content-type":"application/json",...n}})})).then((t=>(u.response=t,t.json()))).then((t=>{n({json:t,meta:u})})).catch(o)})),cancel:()=>{r?.abort()}}}({...r,runtime:s,type:t,path:n,inputs:o});return{promise:i.then((t=>(Array.isArray(t.json)?t.json:e.map((()=>t.json))).map((e=>({meta:t.meta,json:e}))))),cancel:u}}}),c=d(u("query")),a=d(u("mutation")),l={query:c,subscription:d(u("subscription")),mutation:a};return({op:t})=>e((e=>{const r=l[t.type],{promise:i,cancel:u}=r.load(t);return i.then((t=>{const r=function(t,e){let r;try{r=function(t,e){if("error"in t){const r=e.transformer.deserialize(t.error);return{ok:!1,error:{...t,error:r}}}return{ok:!0,result:{...t.result,...(!t.result.type||"data"===t.result.type)&&{type:"data",data:e.transformer.deserialize(t.result.data)}}}}(t,e)}catch(t){throw new n("Unable to transform response from server")}if(!(r.ok||o(r.error.error)&&"number"==typeof r.error.error.code))throw new n("Badly formatted response from server");if(r.ok&&!o(r.result))throw new n("Badly formatted response from server");return r}(t.json,s);r.ok?(e.next({context:t.meta,result:r.result}),e.complete()):e.error(n.from(r.error,{meta:t.meta}))})).catch((t=>e.error(n.from(t)))),()=>{u()}}))}}({url:"http://localhost:3008/trpc"})]});function j(){return v(this,void 0,void 0,(function(){return x(this,(function(t){return[2,k.page.query()]}))}))}window.onload=function(){!function(){v(this,void 0,void 0,(function(){var t,e;return x(this,(function(r){switch(r.label){case 0:return t=document.getElementById("main-header"),[4,j()];case 1:return e=r.sent(),t&&(t.textContent=e.title),[2]}}))}))}()}})();